" IntelliJ - IdeaVimプラグイン用の設定
" $HOME/.ideavimrcに配置するとIntelliJ起動時にloadされる

" vimrcと共通のkeymap等は切り出すことが可能
"source .vimrc.keymap

" ノーマルモードではIMEをオフ(効いてない可能性)
set keep-english-in-normal
" クリップボードを有効化
set clipboard=unnamedplus

""""""""""""""""""""""""""""""""""
" 一般設定                       "
""""""""""""""""""""""""""""""""""
vnoremap ,a :action GottoAction<CR>
" 全ての場所から曖昧検索
nnoremap ,e :action SearchEverywhere<CR>
" ファイルの構造をポップアップ画面で表示する
nnoremap ,s :action FileStructurePopup<CR>
" パス限定曖昧検索ポップアップを表示する
nnoremap ,g :action FindInPath<CR>
" 最近開いたファイル一覧ポップアップを表示する
nnoremap ,r :action RecentFiles<CR>
" 呼び出し階層一覧viewを表示
nnoremap ,c :action CallHierarchy<CR>
" ブックマーク一覧を表示
nnoremap ,b :action ShowBookmarks<CR>

""""""""""""""""""""""""""""""""""
" コードジャンプ系のコマンド定義 "
""""""""""""""""""""""""""""""""""
" 定義へのジャンプ
nnoremap gd :action GotoDeclaration<CR>
" スーパーメソッドへジャンプ
nnoremap gs :action GotoSuperMethod<CR>
" 実装箇所へジャンプ
nnoremap gi :action GotoImplementation<CR>
" 直近の変更箇所へジャンプ
nnoremap gb :action JumpToLastChange<CR>
" 呼び出し箇所一覧をあいまい検索
nnoremap gu :action ShowUsages<CR>
" 呼び出し箇所を検索
nnoremap gr :action FindUsages<CR>
" テスト実装箇所へジャンプ
nnoremap gt :action GotoTest<CR>
" 戻る
nnoremap <C-o> :action Back<CR>
" 進む
nnoremap <C-i> :action Forward<CR>

""""""""""""""""""""""""""""""""""
" エディター (コード編集)        "
""""""""""""""""""""""""""""""""""
" カーソルのある単語を一斉に編集
nnoremap r :action RenameElement<CR>

""""""""""""""""""""""""""""""""""
" IntelliJ コマンドを実行        "
""""""""""""""""""""""""""""""""""
" カーソル行でブックマークをトグル
nnoremap B :action ToggleBookmark<CR>

""""""""""""""""""""""""""""""""""
" Window(View)操作               "
""""""""""""""""""""""""""""""""""
" アクティブなViewを閉じる
nnoremap <C-c>; :action CloseActiveTab<CR>
" エディタタブを水平分割(上下)
nnoremap <C-s>; :split<CR>
" エディタタブを垂直分割(左右)
nnoremap <C-v>; :vsplit<CR>
" フォーカスを持つエディタタブを他のタブ分割グループに移動
nnoremap <C-m> :action MoveEditorToOppositeTabGroup<CR>
